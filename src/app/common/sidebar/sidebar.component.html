<aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
  <!-- Logo Header -->
  <div class="sidebar-header">
    <div class="logo">
      <div class="logo-icon">R</div>
      <div class="logo-text" *ngIf="!isSidebarCollapsed">
        <strong>RePut.ai</strong>
        <small>Your Only Source of Truth</small>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <div *ngFor="let section of menuSections" class="nav-section">
      <div class="nav-section-title" *ngIf="!isSidebarCollapsed">
        {{ section.title }}
      </div>
      <ul class="nav-items">
        <li *ngFor="let item of section.items" 
            class="nav-item"
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: false }">
          
          <!-- Icon SVG -->
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <ng-container [ngSwitch]="item.icon">
              
              <!-- Home / Dashboard -->
              <g *ngSwitchCase="'dashboard'">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
              </g>
              
              <!-- EPR Dashboard -->
              <g *ngSwitchCase="'epr'">
                <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                <rect x="3" y="14" width="7" height="7" rx="1"></rect>
              </g>
              
              <!-- KYC -->
              <g *ngSwitchCase="'kyc'">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
              </g>
              
              <!-- Auto Data Fetch -->
              <g *ngSwitchCase="'fetch'">
                <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
              </g>
              
              <!-- Obligations -->
              <g *ngSwitchCase="'obligations'">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
              </g>
              
              <!-- Recycler Portal -->
              <g *ngSwitchCase="'recycle-portal'">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </g>
              
              <!-- Blockchain -->
              <g *ngSwitchCase="'blockchain'">
                <path d="M12 2 2 7l10 5 10-5-10-5z"></path>
                <path d="m2 17 10 5 10-5"></path>
                <path d="M2 12l10 5 10-5"></path>
              </g>
              
              <!-- Reports -->
              <g *ngSwitchCase="'reports'">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
              </g>
              
              <!-- Consumer Loop -->
              <g *ngSwitchCase="'consumer'">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </g>
              
              <!-- Management View -->
              <g *ngSwitchCase="'management'">
                <line x1="12" y1="20" x2="12" y2="10"></line>
                <line x1="18" y1="20" x2="18" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="16"></line>
              </g>
              
            </ng-container>
          </svg>
          
          <span class="nav-label" *ngIf="!isSidebarCollapsed">{{ item.label }}</span>
        </li>
      </ul>
    </div>
  </nav>
</aside>